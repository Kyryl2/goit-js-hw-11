{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import { getPhotos } from './js/pixabay-api';\n\nconst form = document.querySelector('.js-form');\nconst input = document.querySelector('.input');\nconst list = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onClickBtn);\n\nfunction onClickBtn(event) {\n  event.preventDefault();\n  const search = input.value.trim();\n\n  if (!search) {\n    list.innerHTML = '';\n\n    event.target.reset();\n\n    return iziToast.error({\n      message: 'Поле для введення не має бути порожнім!',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'yellow',\n    });\n  }\n\n  list.innerHTML = '';\n  getPhotos(search);\n  //   loader.classList.add('is-visible');\n}\nfunction getPhotos(q) {\n  const parameters = new URLSearchParams({\n    key: '43212506-95870309335e8ebf3ea9c8656',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${parameters}`, {\n    header: {\n      'Access-Control-Allow-Origin': 'https://pixabay.com',\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(obj => {\n      if (obj.hits.length === 0) {\n        list.innerHTML = '';\n\n        form.reset();\n\n        iziToast.error({\n          message: 'За вашим пошуковим словом, зображень не знайдено!',\n          position: 'topRight',\n          timeout: 2000,\n        });\n        return;\n      }\n      list.innerHTML = createGallaryMarkup(obj.hits);\n    })\n\n    .catch(error => console.log(error));\n}\n\nfunction createGallaryMarkup(array) {\n  return array\n    .map(\n      image =>\n        `<li class=\"gallary-item\">\n        <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n\n      </li>`\n    )\n    .join('');\n}\n"],"names":["form","input","list","onClickBtn","event","search","iziToast","getPhotos","q","parameters","response","obj","createGallaryMarkup","error","array","image"],"mappings":"svBAMA,MAAMA,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAO,SAAS,cAAc,UAAU,EAC/B,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAASJ,EAAM,MAAM,KAAI,EAE/B,GAAI,CAACI,EACH,OAAAH,EAAK,UAAY,GAEjBE,EAAM,OAAO,QAENE,EAAS,MAAM,CACpB,QAAS,0CACT,SAAU,WACV,QAAS,IACT,MAAO,QACb,CAAK,EAGHJ,EAAK,UAAY,GACjBK,EAAUF,CAAM,CAElB,CACA,SAASE,EAAUC,EAAG,CACpB,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAU,GAAI,CACrD,OAAQ,CACN,8BAA+B,qBAChC,CACL,CAAG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACzBT,EAAK,UAAY,GAEjBF,EAAK,MAAK,EAEVM,EAAS,MAAM,CACb,QAAS,oDACT,SAAU,WACV,QAAS,GACnB,CAAS,EACD,MACD,CACDJ,EAAK,UAAYU,EAAoBD,EAAI,IAAI,CACnD,CAAK,EAEA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASD,EAAoBE,EAAO,CAClC,OAAOA,EACJ,IACCC,GACE;AAAA,mBACWA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,YAGtF,EACA,KAAK,EAAE,CACZ"}
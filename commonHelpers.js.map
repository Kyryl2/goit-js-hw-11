{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import { getPhotos } from './js/pixabay-api';\n\nconst form = document.querySelector('.js-form');\nconst input = document.querySelector('.input');\nconst list = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onClickBtn);\n\nfunction onClickBtn(event) {\n  event.preventDefault();\n  const search = input.value.trim();\n  if (!search) {\n    return iziToast.show({\n      title: 'Hey',\n      message: 'Please type something',\n      color: 'yellow',\n      position: 'topRight',\n    });\n  }\n\n  list.innerHTML = '';\n  getPhotos(search);\n}\nfunction getPhotos(q) {\n  const parameters = new URLSearchParams({\n    key: '43312748-d2770da7ff63c643db495a6a3',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${parameters}`, {\n    header: {\n      'Access-Control-Allow-Origin': 'https://pixabay.com',\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(obj => {\n      list.innerHTML = createGallaryMarkup(obj.hits);\n    })\n    .catch(error => console.log(error));\n}\n\nfunction createGallaryMarkup(array) {\n  return array\n    .map(\n      image =>\n        `<li class=\"gallary-item\">\n        <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n\n      </li>`\n    )\n    .join('');\n}\n"],"names":["form","input","list","onClickBtn","event","search","iziToast","getPhotos","q","parameters","response","obj","createGallaryMarkup","error","array","image"],"mappings":"svBAMA,MAAMA,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAO,SAAS,cAAc,UAAU,EAC/B,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAASJ,EAAM,MAAM,KAAI,EAC/B,GAAI,CAACI,EACH,OAAOC,EAAS,KAAK,CACnB,MAAO,MACP,QAAS,wBACT,MAAO,SACP,SAAU,UAChB,CAAK,EAGHJ,EAAK,UAAY,GACjBK,EAAUF,CAAM,CAClB,CACA,SAASE,EAAUC,EAAG,CACpB,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAU,GAAI,CACrD,OAAQ,CACN,8BAA+B,qBAChC,CACL,CAAG,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CACXT,EAAK,UAAYU,EAAoBD,EAAI,IAAI,CACnD,CAAK,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASD,EAAoBE,EAAO,CAClC,OAAOA,EACJ,IACCC,GACE;AAAA,mBACWA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,YAGtF,EACA,KAAK,EAAE,CACZ"}